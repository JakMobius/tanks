{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "node_modules/@babel/runtime/helpers/interopRequireDefault.js",
    "src/client/utils/browsercheck/browsercheck.ts",
    "src/client/utils/browsercheck/browsercheckview.ts",
    "src/server/html-pages/game-page/index.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "../",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;",
    "\nexport default {\n    WebGLAvailablilty: function() {\n        if (window.WebGLRenderingContext) {\n            var canvas = document.createElement(\"canvas\")\n            canvas.width = 1;\n            canvas.height = 1;\n\n            var gl;\n\n            try {\n                gl = canvas.getContext(\"webgl\");\n            } catch (x) {\n                gl = null;\n            }\n\n            if (gl == null) {\n                try {\n                    gl = canvas.getContext(\"experimental-webgl\");\n                } catch (x) {\n                    gl = null;\n                }\n            }\n\n            if (gl) {\n                return \"available\"\n            } else {\n                return \"disabled\"\n            }\n        } else {\n            return \"unavailable\"\n        }\n    }\n};",
    "/* @load-resource: './browser-check.scss' */\n\nimport BrowserCheck from './browsercheck';\n\nfunction browserLink (footer: JQuery, name: string, image: string, href: string): void {\n    footer.append(\n        $(\"<a>\").addClass(\"supported-browser\").append(\n            $(\"<img>\")\n                .attr(\"src\", image)\n                .attr(\"alt\", name),\n            $(\"<p>\").text(name)\n        ).attr(\"href\", href)\n    )\n}\n\nexport default function(callback: () => void){\n\n    /**\n     * Chrome 8\n     * Edge 12\n     * IE 11\n     * Firefox 4\n     * Safari 5.1\n     * Opera 12.1\n     * iOS Safari 8\n     * Android Browser 81\n     * Opera Mobile 12\n     * Chrome for Android 81\n     * Firefox for Android 68\n     * UC Browser for Android 12.12\n     * Samsung Internet 4\n     * QQ Browser 10.4\n     * Baidu Browser 7.12\n     * KaiOS Browser 2.5\n     */\n\n    var webGl = BrowserCheck.WebGLAvailablilty()\n\n    if(webGl == \"available\") {\n        callback()\n    } else {\n        var container = $(\"<div>\").addClass(\"unsupported-browser\")\n        var header = $(\"<h1>\").addClass(\"header\")\n        var text = $(\"<div>\").addClass(\"text\")\n        var footer = $(\"<div>\").addClass(\"footer\")\n\n        if(webGl == \"disabled\") {\n            header.text(\"В Вашем браузере отключен WebGL\")\n            text.append(\n                $(\"<p>\").text(\"Необходимо разрешить использование WebGL в настройках \" +\n                    \"вашего браузера, прежде чем страница сможет быть загружена\")\n            )\n            return\n        }\n        if(webGl == \"unavailable\") {\n            header.text(\"Ваш браузер устарел\")\n            text.append(\n                $(\"<p>\").text(\"Страница не может быть загружена, поскольку ваш браузер \" +\n                    \"не поддерживает WebGL. Для быстрой и стабильной работы страницы рекомендуем \" +\n                    \"скачать последнюю версию одного из этих браузеров:\")\n            )\n\n            browserLink(\n                footer,\n                \"Google Chrome\",\n                \"../assets/browser/chrome.png\",\n                \"https://www.google.com/chrome/browser/desktop/\"\n            )\n            browserLink(\n                footer,\n                \"Firefox\",\n                \"../assets/browser/firefox.png\",\n                \"https://www.mozilla.org/firefox/new\"\n            )\n        }\n        container.append(header, text, footer)\n        $(document.body).append(container)\n    }\n};",
    "/* @load-resource: '../style.css' */\n\nimport BrowserCheckView from '../../../client/utils/browsercheck/browsercheckview';\n\nwindow.addEventListener(\"load\", function() {\n    BrowserCheckView(downloadGameScript)\n})\n\nfunction startGame() {\n    var root = $(\"<div>\").addClass(\"game-root\")\n    $(document.body).append(root)\n    var Game = (window as any)['Game']\n    var game = new Game({\n        scale: window.devicePixelRatio,\n        ip: \"ws://\" + window.location.host + \"/game-socket\",\n        root: root\n    })\n\n    game.loop.start();\n    game.canvas.focus();\n\n    (window as any)[\"game\"] = game\n}\n\nfunction downloadGameScript() {\n    var script = document.createElement(\"script\")\n    script.src = \"scripts/game.js\"\n    script.onload = startGame\n    document.head.appendChild(script)\n}"
  ]
}